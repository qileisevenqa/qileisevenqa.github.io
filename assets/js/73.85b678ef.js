(window.webpackJsonp=window.webpackJsonp||[]).push([[73],{286:function(t,e,n){"use strict";n.r(e);var a=n(1),s=Object(a.a)({},function(){this.$createElement;this._self._c;return this._m(0)},[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"content"},[n("h1",{attrs:{id:"ä½¿ç”¨nockè¿›è¡Œé›†æˆæµ‹è¯•ä¸­çš„æ¨¡æ‹Ÿä¾èµ–é¡¹"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#ä½¿ç”¨nockè¿›è¡Œé›†æˆæµ‹è¯•ä¸­çš„æ¨¡æ‹Ÿä¾èµ–é¡¹","aria-hidden":"true"}},[t._v("#")]),t._v(" ä½¿ç”¨Nockè¿›è¡Œé›†æˆæµ‹è¯•ä¸­çš„æ¨¡æ‹Ÿä¾èµ–é¡¹")]),t._v(" "),n("p",[t._v("è½¯ä»¶è¡Œä¸šæ­£æœç€é›†æˆæµ‹è¯•çš„æ–¹å‘å‘å±•ï¼Œä»¥æµ‹è¯•å…¶æä¾›ä»£ç ä¿¡å¿ƒçš„èƒ½åŠ›ã€‚ç„¶è€Œï¼Œå®ƒä»¬çš„è®¾ç½®æ˜¯å†—é•¿ä¹å‘³çš„ï¼Œè€Œä¸”å…¶ç›®çš„çš„ä¸€ä¸ªåŸºæœ¬éƒ¨åˆ†çš„å¤–éƒ¨å½±å“ä¼šé™ä½æ€§èƒ½å’Œä¿¡ä»»åº¦ã€‚åœ¨ä½¿ç”¨nockè¿›è¡Œé›†æˆæµ‹è¯•æ—¶æ¨¡æ‹Ÿç¬¬ä¸‰æ–¹ä¾èµ–å…³ç³»æœ‰åŠ©äºé™ä½å¤æ‚æ€§ï¼Œæé«˜ä¸€è‡´æ€§å’Œå¯é æ€§ã€‚\nè½¯ä»¶è¡Œä¸šå› å…¶æä¾›ä»£ç ç½®ä¿¡åº¦çš„èƒ½åŠ›è€Œè¶‹å‘äºé›†æˆæµ‹è¯•ã€‚ ä½†æ˜¯ï¼Œä»–ä»¬çš„å·¥ä½œä¹å‘³ï¼Œè€Œä¸”å¤–éƒ¨å½±å“ï¼ˆå…¶ç›®æ ‡çš„åŸºæœ¬ç»„æˆéƒ¨åˆ†ï¼‰ä¼šé™ä½ç»©æ•ˆå’Œä¿¡ä»»åº¦ã€‚ ä½¿ç”¨nockæ¨¡æ‹Ÿé›†æˆæµ‹è¯•ä¸­çš„ç¬¬ä¸‰æ–¹ä¾èµ–é¡¹æœ‰åŠ©äºé™ä½å¤æ‚æ€§å¹¶æé«˜ä¸€è‡´æ€§å’Œå¯é æ€§ã€‚\nä¸Nockçš„é›†æˆæµ‹è¯•\nNockæ˜¯ä¸€ä¸ªJavaScriptåº“ï¼Œå¯æ¨¡æ‹Ÿå¤–éƒ¨APIè¯·æ±‚ã€‚ è¯¥åº“å¯¹äºé›†æˆæµ‹è¯•éå¸¸å¼ºå¤§ï¼Œå› ä¸ºå®ƒä¸å†…éƒ¨å®ç°æ— å…³ã€‚ APIå‘å‡ºçš„è¯·æ±‚ä¸æ˜¯å†…éƒ¨è¯¦ç»†ä¿¡æ¯çš„ä¸€éƒ¨åˆ†ï¼Œè€Œæ˜¯åˆåŒã€‚\nä¾‹\nä¸‹å›¾æ˜¯TODO APIçš„äººä¸ºç¤ºä¾‹ï¼Œè¯¥APIåˆ›å»ºä¸€ä¸ªäº‹ä»¶ä»¥å®‰æ’æé†’ã€‚")]),t._v(" "),n("p",[n("img",{attrs:{src:"https://blog.testproject.io/wp-content/uploads/2020/11/todo-architecture.png",alt:""}})]),t._v(" "),n("p",[t._v("å®¢æˆ·ç«¯è°ƒç”¨todo APIï¼Œè¯¥APIæ’å…¥todoæ•°æ®åº“ã€‚ å‰¯ä½œç”¨æ˜¯ï¼Œäº‹ä»¶APIå°†æé†’æ’å…¥äº‹ä»¶æ•°æ®åº“ä¸­ã€‚\nå¼€å‘äººå‘˜æ— éœ€æŸ¥çœ‹ä»£ç å³å¯ä¸ºè¯¥ä½“ç³»ç»“æ„ç¼–å†™æµ‹è¯•ã€‚ é€šè¿‡ä½¿ç”¨æµ‹è¯•é©±åŠ¨çš„å¼€å‘ï¼Œä»–ä»¬å¯ä»¥æµ‹è¯•è¡Œä¸ºï¼Œè€Œä¸æ˜¯ä¸é‡è¦çš„å®ç°ç»†èŠ‚ã€‚ è¿™ä¸æ‰“ç®—ä½¿ç”¨åº“çš„æ–¹å¼ç´§å¯†ä¸€è‡´")]),t._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[t._v('it("creates a todo", async function () {\n  const response = await request(app)\n    .post("/v1/todo")\n    .set("Content-Type", "application/json")\n    .set("Accept", "application/json")\n    .send({\n      title: "Make resolutions",\n      reminder: null,\n    });\n\n  expect(response.status).to.equal(201);\n  expect(response.body.id).to.be.a.uuid("v4");\n  // Additional assertions\n});\t\n\n')])])]),n("p",[t._v("æ­¤æµ‹è¯•æœªä½¿ç”¨nockï¼Œä»¥è¯æ˜å®ƒå¯èƒ½ä¸é€‚ç”¨äºä»»ä½•åœ°æ–¹ã€‚ å°½ç®¡æµ‹è¯•ä¾èµ–äºæ´»åŠ¨æ•°æ®åº“ï¼Œä½†åœ¨æœ¬åœ°æˆ–ä½œä¸ºCIç®¡é“çš„ä¸€éƒ¨åˆ†å¯åŠ¨Dockerå®¹å™¨å¾ˆç®€å•ã€‚ å°½ç®¡æˆ‘ä»¬å¯ä»¥æ¨¡æ‹Ÿæ•°æ®åº“äº¤äº’ï¼Œä½†å¼Šå¤§äºåˆ©ã€‚ æµè¡Œæ•°æ®åº“çš„å¼€å‘äººå‘˜å°†ä¾èµ–é¡¹æ‰“åŒ…åœ¨ç»´æŠ¤è‰¯å¥½ä¸”ç¨³å®šçš„Dockerå®¹å™¨ä¸­ã€‚ æ¨¡æ‹Ÿä»–ä»¬çš„æ‰€æœ‰äº¤äº’å°†æ˜¯ä¹å‘³çš„ï¼Œå¹¶ä¸”å¯èƒ½æ©ç›–è‡´å‘½çš„é”™è¯¯ã€‚\nä¸‹ä¸€ä¸ªæµ‹è¯•æ¶‰åŠä¸å¤–éƒ¨APIçš„äº¤äº’ï¼š")]),t._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[t._v('it("creates a reminder", async function () {\n  let eventApiCalled = false;\n\n  nock("https://events-api:3000")\n    .post("/v1/reminder")\n    .reply(201, (uri, requestBody) => {\n      eventApiCalled = true;\n      return { id: "some-uuid", other: "attribute" };\n    });\n\n  const response = await request(app)\n    .post("/v1/todo")\n    .set("Content-Type", "application/json")\n    .set("Accept", "application/json")\n    .send({\n      title: "Make resolutions",\n      reminder: {\n        date: "2020-01-01T00:00:00Z",\n      },\n    });\n\n  expect(response.status).to.equal(201);\n  expect(eventApiCalled).to.be.true();\n});\n\n')])])]),n("p",[t._v("åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œtodo APIå’Œäº‹ä»¶APIä¹‹é—´çš„åå®šæ˜¯å·²çŸ¥çš„ã€‚ æ¨¡æ‹Ÿæ˜¯æœ‰æ„ä¹‰çš„ï¼Œå› ä¸ºäº‹ä»¶APIå¯ä»¥é’ˆå¯¹ç›¸åŒçš„åˆåŒæ‹¥æœ‰è‡ªå·±çš„ä¸€ç»„æµ‹è¯•ã€‚\né€šè¿‡ä½¿ç”¨nockæ¨¡æ‹Ÿï¼Œå¯ä»¥å°†äº‹ä»¶APIä¸todo APIåˆ†ç¦»ã€‚ æœ‰äº›äººå¯èƒ½ä¸è®¤ä¸ºè¿™æ˜¯ä¸€ä¸ªçœŸæ­£çš„é›†æˆæµ‹è¯•ï¼Œä½†æ˜¯åŒ…å«ä¸€ä¸ªçœŸæ­£çš„è¿æ¥ä¼šå¸¦æ¥ä¸€äº›ç¼ºç‚¹ã€‚\nçœŸæ­£çš„HTTPè¿æ¥çš„ç¼ºç‚¹\nå¼€å‘äººå‘˜éœ€è¦åœ¨æœ¬åœ°è¿è¡Œå¤–éƒ¨APIï¼Œå¹¶å°†å…¶ä½œä¸ºCIç®¡é“çš„ä¸€éƒ¨åˆ†\nè¿™ä¼šå¾ˆå¿«å¤±å»æ§åˆ¶ã€‚ äº‹ä»¶APIå¯èƒ½ä¾èµ–äºå…¶ä»–äº”ä¸ªæœåŠ¡ï¼Œè€Œè¿™äº›æœåŠ¡å¯èƒ½ä¾èµ–äºå…¶ä»–åä¸ªæœåŠ¡ã€‚ å¦‚æœè¿™äº›æœåŠ¡ä¸æ˜¯å¯é€‰çš„ï¼Œåˆ™å®‰è£…ç¨‹åºä¸­è¿˜éœ€è¦åŒ…æ‹¬æ¯ä¸ªæœåŠ¡ã€‚\nä¾èµ–å…³ç³»å°†todo APIè€¦åˆåˆ°äº‹ä»¶APIæ¶æ„\nä¸ºäº†æ­£ç¡®è¿è¡Œäº‹ä»¶APIï¼Œæ ¹æ®ç¤ºä¾‹å›¾ï¼Œå¿…é¡»åŒ…æ‹¬æœ¬åœ°æ•°æ®åº“ã€‚ å…¶ä»–å¿…éœ€çš„ç»„ä»¶ï¼Œä¾‹å¦‚Redisç¼“å­˜æˆ–å¤–éƒ¨æ—¥å¿—è®°å½•ç³»ç»Ÿï¼Œä¹Ÿå¯ä»¥å­˜åœ¨ã€‚ å¦‚æœäº‹ä»¶APIçš„ç»´æŠ¤è€…å†³å®šå°†æ•°æ®åº“ä»MySQLäº¤æ¢åˆ°Postgresï¼Œåˆ™todo APIçš„CIç®¡é“å°†ä¸­æ–­ã€‚ æµ‹è¯•ä¼šäº§ç”Ÿå‡é˜´æ€§ç»“æœï¼Œå¹¶ä¸”ä¸èƒ½åæ˜ ç°å®æƒ…å†µï¼štodo APIå¯ä»¥åœ¨äº¤æ¢çš„æ•°æ®åº“ä¸­æ­£å¸¸è¿è¡Œã€‚\nå»¶è¿Ÿå¢åŠ äº†æµ‹è¯•æ—¶é—´\né€šè¿‡è°ƒå‡ºçœŸå®çš„APIï¼ˆå°¤å…¶æ˜¯é€Ÿåº¦è¾ƒæ…¢çš„APIï¼‰ï¼Œæ¯æ¬¡æµ‹è¯•èŠ±è´¹çš„æ—¶é—´ä¼šç¨é•¿ä¸€äº›ã€‚ å°½ç®¡åœ¨ä¸€äº›æµ‹è¯•ä¸­è¿™ä¼¼ä¹æ˜¯å¾®ä¸è¶³é“çš„ï¼Œä½†å»¶è¿Ÿå¯èƒ½ä¼šåœ¨äº§å“çš„ä½¿ç”¨å¯¿å‘½å†…ç´¯ç§¯ã€‚\næ¨¡æ‹Ÿè¿æ¥çš„ç¼ºç‚¹\nå¾…åŠäº‹é¡¹APIå¿…é¡»ä¿¡ä»»äº‹ä»¶APIæ‰èƒ½ä¸è¿ååˆåŒ\nPact JSä¹‹ç±»çš„æ¡†æ¶å¯ä»¥å¸®åŠ©å†…éƒ¨APIè§£å†³æ­¤é—®é¢˜ï¼Œä½†ä¸èƒ½è§£å†³ç¬¬ä¸‰æ–¹é—®é¢˜ã€‚ åœ¨æœ¬æ–‡ä¸­ï¼Œæˆ‘æ•…æ„ä¸å…³æ³¨Pactï¼Œå› ä¸ºè®¸å¤šå¼€å‘äººå‘˜å¾ˆéš¾è·å¾—æ”¯æŒå’Œæ”¯æŒã€‚\nğŸ’¡æœ‰å…³Pactçš„æ›´å¤šä¿¡æ¯ï¼Œæˆ‘å»ºè®®æ‚¨æµè§ˆè¿™ä»½è¯¦å°½çš„ã€Šæ¶ˆè´¹è€…åˆåŒæµ‹è¯•æŒ‡å—ã€‹ã€‚\nå…¶ä»–æç¤ºå’ŒæŠ€å·§\næµ‹è¯•æ¶ˆè€—äº†å †æ ˆä¸­çš„æ‰€æœ‰Nocks\nå¦‚æœæµ‹è¯•ä¸¤æ¬¡è°ƒç”¨APIï¼Œåˆ™nockä»…å¯¹ç¬¬ä¸€æ¬¡è°ƒç”¨æœ‰æ•ˆã€‚ è¦ç»•è¿‡æ­¤è¡Œä¸ºï¼Œå¯ä»¥ä½¿ç”¨æŒä¹…æ€§å£°æ˜å®ƒä»¬ï¼š")]),t._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[t._v('nock("https://event-api:3000")\n  .post("/v1/events")\n  .reply(201, function () {\n    // Create and return event\n  })\n  .persist()\t\n')])])]),n("p",[t._v("ä½†æ˜¯ï¼Œé»˜è®¤è¡Œä¸ºå¯¹äºå…¬å¼€æ„å¤–è°ƒç”¨å¾ˆæœ‰ç”¨ã€‚å¦‚æœæ’é™¤äº†persisté€‰é¡¹ï¼Œé‚£ä¹ˆåˆ›å»ºä¸¤ä¸ªäº‹ä»¶å°†ä½¿æµ‹è¯•å¤±è´¥ã€‚")]),t._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[t._v("nock(/.*amazon.com.*/)\n  .put(/s3/)\n  .reply(200, {...}\n")])])]),n("p",[t._v("è¿™å¯ä»¥å¸®åŠ©å…‹æœå¸¦æœ‰UUIDçš„ç½‘å€ã€‚\nNockå®Œå…¨åŒ¹é…ç½‘å€è€Œä¸ä½¿ç”¨æ­£åˆ™è¡¨è¾¾å¼ï¼Œå¹¶ä¸”ä»»ä½•ä¸åŒ¹é…çš„è°ƒç”¨éƒ½å°†æ— æ³•å¤„ç†å¹¶å¼•å‘é”™è¯¯ã€‚\næŸ¥è¯¢å‚æ•°æ—è·¯")]),t._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[t._v('nock("https://events-api:3000")\n  .get("/v1/events")\n  .query(true)\n\n')])])]),n("p",[t._v("å¿½ç•¥æŸ¥è¯¢å‚æ•°å¯ä»¥æä¾›ä¸€ç§æ–¹æ³•æ¥è¿”å›ç›¸åŒçš„æ•°æ®ï¼Œè€Œä¸ç®¡å‚æ•°æ˜¯ä»€ä¹ˆã€‚åº”ç­”é”™è¯¯")]),t._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[t._v('nock("https://events-api:3000")\n  .post("/v1/reminder")\n  .reply(500, "...")\n')])])]),n("p",[t._v("è¿™æ˜¯æ¨¡æ‹Ÿçš„å¦ä¸€ä¸ªä¼˜ç‚¹ã€‚ è€ƒè™‘todo APIç¤ºä¾‹ï¼šå¦‚æœåˆ›å»ºæé†’çš„è°ƒç”¨å¤±è´¥ï¼Œåˆ™å®ƒåº”å›æ»šåˆ›å»ºtodoçš„äº‹åŠ¡å¹¶è¿”å›500é”™è¯¯ã€‚ åœ¨çœŸå®ä¸–ç•Œçš„è¿æ¥ä¸­ï¼Œé™¤äº†å…³é—­æœåŠ¡ä¹‹å¤–ï¼Œå¯èƒ½å¾ˆéš¾æ‰¾åˆ°ä¸€ç§è‡ªç„¶çš„æ–¹æ³•æ¥ä½¿äº‹ä»¶APIå¤±è´¥ã€‚\nè¯¥åº“æä¾›äº†æ›´å¤šå®ç”¨ç¨‹åºï¼Œåœ¨æ–‡æ¡£ä¸­æåˆ°äº†è¿™äº›å®ç”¨ç¨‹åºï¼šhttps://github.com/nock/nockã€‚\nç»“è®º\nNockæ›´æ”¹äº†é›†æˆæµ‹è¯•ï¼Œä»¥å‡å°‘å¯¹å®é™…è¿æ¥æ€§çš„å…³æ³¨ï¼Œè€Œå°†æ›´å¤šç²¾åŠ›æ”¾åœ¨éµå®ˆåˆåŒä¸Šã€‚ é€šè¿‡æ¨¡æ‹ŸAPIå±‚ï¼Œæˆ‘ä»¬å¯ä»¥æ§åˆ¶ä¸ç¬¬ä¸‰æ–¹æœåŠ¡çš„äº¤äº’ï¼Œå³ä½¿å®ƒä»¬åœ¨å…¬å¸å†…éƒ¨ä¹Ÿæ˜¯å¦‚æ­¤ã€‚ ä½¿ç”¨nockç¼–å†™é›†æˆæµ‹è¯•å¯ä»¥æ˜¾ç€æé«˜é€Ÿåº¦å’Œæµ‹è¯•å¯é æ€§ï¼Œä½†å¿…é¡»ä»¥ä¿¡ä»»åˆåŒä¸ºä»£ä»·ã€‚")]),t._v(" "),n("h3",{attrs:{id:"author"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#author","aria-hidden":"true"}},[t._v("#")]),t._v(" author")]),t._v(" "),n("p",[t._v("çŸ³å¤´ ç£Šå“¥ seven éšä¾¿å«")]),t._v(" "),n("h3",{attrs:{id:"company"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#company","aria-hidden":"true"}},[t._v("#")]),t._v(" company")]),t._v(" "),n("p",[t._v("thoughtworksï¼ˆç¦»èŒäº†ã€‚ã€‚ã€‚ã€‚ï¼‰")]),t._v(" "),n("p",[t._v("å¤§å®¶å¥½ï¼Œæœ¬äººä¸æ‰ï¼Œç›®å‰ä¾æ—§æ··è¿¹äºthoughtworksï¼Œåšç€ä¸€åçœ‹èµ·æ¥åƒå…¨æ ˆçš„QAï¼Œå…´è¶£çˆ±å¥½å‰ç«¯ï¼Œç›®å‰æ˜¯thoughtworks è¥¿å®‰QAç¤¾åŒºçš„leaderï¼Œå¦‚æœæœ‰å…´è¶£åˆ†äº«è¯é¢˜ï¼Œæˆ–è€…æƒ³åŠ å…¥twï¼Œå¯ä»¥æ‰¾æˆ‘")]),t._v(" "),n("h3",{attrs:{id:"roles"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#roles","aria-hidden":"true"}},[t._v("#")]),t._v(" roles")]),t._v(" "),n("p",[t._v("QAï¼ˆè¥ç”Ÿï¼‰ devï¼ˆfront-end dev å…´è¶£çˆ±å¥½ï¼‰")]),t._v(" "),n("h3",{attrs:{id:"è”ç³»æ–¹å¼"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#è”ç³»æ–¹å¼","aria-hidden":"true"}},[t._v("#")]),t._v(" è”ç³»æ–¹å¼")]),t._v(" "),n("p",[t._v("å¦‚æœæƒ³è½¬è½½æˆ–è€…é«˜è–ªæŒ–æˆ‘ è¯·ç›´æ¥è”ç³»æˆ‘ å“ˆå“ˆ")]),t._v(" "),n("h4",{attrs:{id:"wechat"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#wechat","aria-hidden":"true"}},[t._v("#")]),t._v(" wechat:")]),t._v(" "),n("p",[t._v("qileiwangnan")]),t._v(" "),n("h4",{attrs:{id:"email"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#email","aria-hidden":"true"}},[t._v("#")]),t._v(" email:")]),t._v(" "),n("p",[t._v("qileilove@gmail.com")])])}],!1,null,null,null);e.default=s.exports}}]);