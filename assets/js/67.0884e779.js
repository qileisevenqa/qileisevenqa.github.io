(window.webpackJsonp=window.webpackJsonp||[]).push([[67],{280:function(t,e,s){"use strict";s.r(e);var n=s(1),a=Object(n.a)({},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"content"},[t._m(0),t._v(" "),s("p",[t._v("æ˜¯å¦‚æœä½ å–œæ¬¢ä½¿ç”¨ HTTP é‡‡æ ·å™¨ï¼Œä½ å¯ä»¥ä½¿ç”¨ã€‚GraphQL ä¸ºç»´æŠ¤æµ‹è¯•è®¡åˆ’æä¾›äº†ä¸€ç§èˆ’é€‚å’Œç®€å•çš„æ–¹æ³•æ ‡å¤´å›¾ç‰‡æ¥æºä¸­çš„å¾½æ ‡ï¼šPythonï¼Œè¯·æ±‚ï¼ŒJSONï¼ŒHTTP\nè¿™æ˜¯æœ‰å…³å¦‚ä½•ä½¿ç”¨pythonæ„å»ºAPIæ¡†æ¶çš„ç³»åˆ—æ–‡ç« ä¸­çš„ç¬¬äºŒç¯‡ã€‚\næ‚¨å¯ä»¥é˜…è¯»ä¸‹é¢çš„å…ˆå‰éƒ¨åˆ†ï¼š\nPython APIæµ‹è¯•è‡ªåŠ¨åŒ–æ¡†æ¶ï¼ˆç¬¬1éƒ¨åˆ†ï¼‰ç®€ä»‹ï¼Œè®¾ç½®å’Œå®‰è£…\nPython APIæµ‹è¯•è‡ªåŠ¨åŒ–æ¡†æ¶ï¼ˆç¬¬2éƒ¨åˆ†ï¼‰å‘å‡ºHTTPè¯·æ±‚\nä»»ä½•æµ‹è¯•è‡ªåŠ¨åŒ–æ¡†æ¶çš„ç»„æˆéƒ¨åˆ†éƒ½æ˜¯å¦‚ä½•æ‰§è¡Œæ–­è¨€ã€‚ æ‚¨ä¹Ÿå¯ä»¥è¯´è¿™æ˜¯æµ‹è¯•è‡ªåŠ¨åŒ–çš„åŸºæœ¬è¦ç´ ã€‚ æœ‰æ²¡æœ‰çœ‹è¿‡ä¸€ä¸ªæ²¡æœ‰æ–­è¨€çš„æµ‹è¯•ï¼Ÿ ğŸ¤”\nå°½ç®¡æ‚¨å§‹ç»ˆå¯ä»¥é€‰æ‹©è¯­è¨€æˆ–æµ‹è¯•æ¡†æ¶çš„ç°æˆåŠŸèƒ½ï¼Œç”šè‡³å¯ä»¥è‡ªå·±åŒ…è£…ã€‚ æœ€å¥½ä¸è¦é‡æ–°å‘æ˜è½®å­â˜¸ï¸å¹¶åˆ©ç”¨å¥½çš„æ–­è¨€åº“æ¥èŠ‚çœæ‚¨å®è´µçš„å®æ–½æ—¶é—´ï¼Œè¿™æ€»æ˜¯ä¸€ä¸ªå¥½ä¸»æ„ã€‚\nå¯¹äºpythonï¼Œæœ‰è®¸å¤šé€‰é¡¹å¯ç”¨ã€‚ ä½†æ˜¯ï¼Œæˆ‘ç‰¹åˆ«å–œæ¬¢assertpyåº“ï¼Œå› ä¸ºå®ƒå…·æœ‰æµåˆ©çš„æ–­è¨€åŠŸèƒ½ï¼Œè€Œä¸”å®ƒå¯¹ä½¿ç”¨æœ¬æœºpythonæ•°æ®ç»“æ„ï¼ˆä¾‹å¦‚listï¼Œsetï¼Œdictç­‰å…¶ä»–åŸå§‹æ•°æ®ç±»å‹ï¼‰å…·æœ‰å‡ºè‰²çš„æ”¯æŒè¿™ä¸€äº‹å®ã€‚\nå®ƒå—åˆ°AssertJåº“çš„æå¤§å¯å‘ï¼Œè¯¥åº“æœ¬èº«åœ¨Javaç¤¾åŒºä¸­éå¸¸æµè¡Œï¼Œå¹¶åœ¨è®¸å¤šæµè¡Œçš„å¼€æºå·¥å…·ä¸­ä½¿ç”¨.\nä»æµåˆ©çš„æ–­è¨€å¼€å§‹\næ‚¨å¯èƒ½ä¼šé—®ï¼Œå¦‚ä½•ä»ä½¿ç”¨assertpyçš„æµç•…æ–­è¨€å¼€å§‹ï¼Ÿ\nåƒå…¶ä»–ä»»ä½•pythonæ¨¡å—ä¸€æ ·ï¼Œæ‚¨åº”è¯¥é¦–å…ˆä½¿ç”¨ä»¥ä¸‹å‘½ä»¤å°†å…¶æ·»åŠ åˆ°è™šæ‹Ÿç¯å¢ƒä¸­\npipenvå®‰è£…assertpy\nå¦å¤–ï¼Œé˜…è¯»è¯¦å°½ä¸”å†™å¾—å¾ˆå¥½çš„Githubè‡ªè¿°æ–‡ä»¶æ˜¯ä¸€ä¸ªå¾ˆå¥½çš„èµ·ç‚¹ï¼Œå› ä¸ºå®ƒä¸ºæ‚¨æä¾›äº†assertpyå¯èƒ½å®ç°çš„å¤§é‡æ“ä½œå’Œæ–¹æ³•åˆ—è¡¨ã€‚ æ‚¨å¯ä»¥åœ¨assertpy / assertpyä¸Šäº†è§£æ›´å¤š\nåŸºæœ¬æ–­è¨€\nè®©æˆ‘ä»¬æ¥çœ‹ä¸€äº›æœ‰å…³ç”¨ä¾‹çš„åŸºæœ¬æ–­è¨€ï¼Œå‰©ä¸‹çš„æˆ‘å°†åœ¨é‡åˆ°æŸäº›ç”¨ä¾‹æ—¶ç•™ç»™æ‚¨æ¢è®¨ã€‚\né€šå¸¸ï¼Œæµè§ˆåº“çš„åŠŸèƒ½é€šå¸¸æ˜¯ä¸€ä¸ªå¥½ä¸»æ„ï¼Œè¿™æ ·æ‚¨çš„å¤§è„‘å°±å¯ä»¥è®°ä½æ˜¯å¦å·²ç»äº†è§£åˆ°åŠŸèƒ½Xï¼Œè€Œè¿™ç§è¡Œä¸ºå¯ä»¥å¸®åŠ©æ‚¨è§£å†³å°†æ¥çš„ç”¨ä¾‹\nå‡è®¾æ‚¨è¦æ ¹æ®æˆ‘ä»¬ä¸€ç›´åœ¨å…³æ³¨çš„åŒä¸€ä¸ªäººçš„å“åº”å°†å¤šä¸ªæ–­è¨€é“¾æ¥åˆ°ä¸€ä¸ªç‰¹å®šçš„äººï¼š")]),t._v(" "),t._m(1),s("p",[t._v("è®°ä½ï¼Œæˆ‘ä»¬è¿›è¡Œäº†ä»å¯ç”¨äººå‘˜ä¸­æå–åå­—çš„æ£€æŸ¥ï¼Œç„¶åæ·»åŠ äº†æ£€æŸ¥ä»¥æŸ¥çœ‹è‚¯ç‰¹æ˜¯å¦åŒ…å«åœ¨å…¶ä¸­ï¼š\nfirst_names = [people['fname'] for people in response_text]\nassert_that(first_names).contains('Kent')\næˆ‘ä»¬å¯ä»¥ä½¿ç”¨assertpyæä¾›çš„åŠŸèƒ½ï¼Œæ ¹æ®æŸä¸ªé”®ä»dictå¯¹è±¡åˆ—è¡¨ä¸­æå–åˆ—è¡¨ï¼Œç„¶åå°†å¤šä¸ªæ–­è¨€é“¾æ¥åœ¨ä¸€èµ·ã€‚ ä»¥ä¸Šå†…å®¹å¯ä»¥æœ‰æ•ˆåœ°æ›¿æ¢ä¸ºã€‚\nassert_that(response_content).extracting('fname').is_not_empty().contains('Gaurav')")]),t._v(" "),s("p",[t._v("è§‚å¯Ÿåˆ°æˆ‘ä»¬èƒ½å¤Ÿå¯¹åŒä¸€å¯¹è±¡è¿›è¡Œå¤šæ¬¡æ£€æŸ¥ï¼Œå¹¶ä¸”è¯»èµ·æ¥åƒè‹±è¯­å¥å­ä¸€æ ·æµåˆ©ã€‚ ğŸ™ŒğŸ¼\nå¦å¤–ï¼Œè¯·æ³¨æ„ï¼Œå½“æ–­è¨€å¤±è´¥æ—¶ï¼Œæˆ‘ä»¬å°†æ”¶åˆ°ä¸€æ¡å‹å¥½çš„äººç±»å¯è¯»é”™è¯¯æ¶ˆæ¯ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š\nAssertionError: Expected <['Kent', 'Bunny', 'Doug']> to contain item "),s("Gaurav",[t._v(", but did not.")])],1),t._v(" "),s("p",[t._v("å°†Gauravæ›¿æ¢ä¸ºKentä»¥æŸ¥çœ‹æ–­è¨€é€šè¿‡ã€‚\næ‚¨å¯ä»¥ä½¿ç”¨æ–­è¨€åº“æ‰§è¡Œçš„æœ€å¸¸è§æ“ä½œæ˜¯ï¼š\nis_equal_to, is_empty, contains, does_not_contain, matches")]),t._v(" "),s("p",[t._v("å¼€ç®±å³ç”¨çš„assertpyå¯ä»¥è½»æ¾åœ°æ”¯æŒè¿™äº›åŠŸèƒ½ã€‚\næ‰“å°è‡ªå®šä¹‰æ–­è¨€æ¶ˆæ¯\nå‡è®¾æ‚¨è¦åœ¨æ–­è¨€å¤±è´¥æ—¶æ‰“å°è‡ªå·±çš„è‡ªå®šä¹‰æ¶ˆæ¯ï¼Œå¯ä»¥ä½¿ç”¨description =â€œ''å…³é”®å­—å‚æ•°è½»æ¾åœ°åšåˆ°è¿™ä¸€ç‚¹\nassert_that(response.status_code, description='Person not created').is_equal_to(requests.codes.ok)")]),t._v(" "),s("p",[t._v("ä¾‹å¦‚ï¼Œæˆ‘é”™è¯¯åœ°å°†é¢„æœŸçš„å“åº”ä»£ç ä»no_contentä¿®æ”¹ä¸ºokï¼Œå¹¶ä¸”assertpyæä¾›äº†ä»¥ä¸‹å¯è¯»çš„å †æ ˆè·Ÿè¸ªä»¥åŠæˆ‘ä»¬æä¾›çš„é”™è¯¯æ¶ˆæ¯>       assert_that(response.status_code, description='Person not created').is_equal_to(requests.codes.ok)\nE       AssertionError: [Person not created] Expected <204> to be equal to <200>, but was not.")]),t._v(" "),s("p",[t._v("people_test.py:63: AssertionError\nè½¯æ–­è¨€\næ‚¨è¿˜å¯ä»¥æ‰§è¡Œè½¯æ–­è¨€ï¼ˆå³ä¸è¦åœ¨ç¬¬ä¸€æ¬¡å¤±è´¥æ—¶åœæ­¢æµ‹è¯•ï¼‰ï¼Œè€Œæ˜¯åœ¨æœ€åå¼•å‘å•ä¸ªæ–­è¨€é”™è¯¯ï¼Œä¸ºæ­¤ï¼Œè¯·ç¡®ä¿ä½¿ç”¨soft_assertionsï¼ˆï¼‰å‡½æ•°å’Œä½¿ç”¨withå­å¥çš„pythonä¸Šä¸‹æ–‡ç®¡ç†å™¨\ndef test_read_all_has_kent():")]),t._v(" "),t._m(2),t._v(" "),s("p",[t._v("response = requests.get(BASE_URI)")]),t._v(" "),t._m(3),t._v(" "),t._m(4),t._v(" "),s("p",[t._v("with soft_assertions():\nassert_that(response.status_code).is_equal_to(requests.codes.no_content) # fails\n# We can get python dict as response by using .json() method\nresponse_content = response.json()")]),t._v(" "),t._m(5),t._v(" "),s("p",[t._v("åœ¨ä¸Šé¢çš„ç¤ºä¾‹ä¸­ï¼Œæˆ‘ä»¬æ•…æ„ä¿®æ”¹äº†çŠ¶æ€ç å£°æ˜å’Œå“åº”å£°æ˜ã€‚\nä¸‹é¢æ˜¯æµ‹è¯•è¿è¡Œåçš„æ ·å­ï¼Œæˆ‘ä»¬çœ‹åˆ°ä¸¤æ¡æ–­è¨€æ¶ˆæ¯éƒ½å‡ºç°äº†ã€‚\nç»“è®º\næˆ‘å¸Œæœ›æ‚¨æ›´å¥½åœ°äº†è§£ä¸“ç”¨çš„æµåˆ©æ–­è¨€åº“å¦‚ä½•ä½¿æ‚¨çš„æ¡†æ¶å˜å¾—æ›´å¥½ï¼Œå¹¶ä¸”å¸Œæœ›æ‚¨ç»§ç»­ä½¿ç”¨å®ƒä»¬ã€‚ å°±æ˜¯è¿™ä¸ªå¸–å­ã€‚ åœ¨æœ¬ç³»åˆ—çš„ä¸‹ä¸€ç¯‡æ–‡ç« ä¸­ï¼Œæˆ‘ä»¬å°†çœ‹åˆ°å¦‚ä½•ä½¿ç”¨XMLå’ŒJSONæ•°æ®ç±»å‹ã€‚\nå¦‚æœæ‚¨è®¤ä¸ºè¿™ç¯‡æ–‡ç« å¾ˆæœ‰ç”¨ï¼Œè¯·ä¸æœ‹å‹æˆ–åŒäº‹åˆ†äº«ï¼Œå¦‚æœæ‚¨æœ‰æƒ³æ³•ï¼Œæˆ‘å¾ˆä¹æ„åœ¨Twitteræˆ–è¯„è®ºä¸­èŠå¤©ã€‚ ç›´åˆ°ä¸‹ä¸€æ¬¡ã€‚ å¿«ä¹çš„æµ‹è¯•å’Œç¼–ç ã€‚")]),t._v(" "),t._m(6),t._v(" "),s("p",[t._v("çŸ³å¤´ ç£Šå“¥ seven éšä¾¿å«")]),t._v(" "),t._m(7),t._v(" "),s("p",[t._v("thoughtworksï¼ˆç¦»èŒäº†ã€‚ã€‚ã€‚ã€‚ï¼‰")]),t._v(" "),s("p",[t._v("å¤§å®¶å¥½ï¼Œæœ¬äººä¸æ‰ï¼Œç›®å‰ä¾æ—§æ··è¿¹äºthoughtworksï¼Œåšç€ä¸€åçœ‹èµ·æ¥åƒå…¨æ ˆçš„QAï¼Œå…´è¶£çˆ±å¥½å‰ç«¯ï¼Œç›®å‰æ˜¯thoughtworks è¥¿å®‰QAç¤¾åŒºçš„leaderï¼Œå¦‚æœæœ‰å…´è¶£åˆ†äº«è¯é¢˜ï¼Œæˆ–è€…æƒ³åŠ å…¥twï¼Œå¯ä»¥æ‰¾æˆ‘")]),t._v(" "),t._m(8),t._v(" "),s("p",[t._v("QAï¼ˆè¥ç”Ÿï¼‰ devï¼ˆfront-end dev å…´è¶£çˆ±å¥½ï¼‰")]),t._v(" "),t._m(9),t._v(" "),s("p",[t._v("å¦‚æœæƒ³è½¬è½½æˆ–è€…é«˜è–ªæŒ–æˆ‘ è¯·ç›´æ¥è”ç³»æˆ‘ å“ˆå“ˆ")]),t._v(" "),t._m(10),t._v(" "),s("p",[t._v("qileiwangnan")]),t._v(" "),t._m(11),t._v(" "),s("p",[t._v("qileilove@gmail.com")])])},[function(){var t=this.$createElement,e=this._self._c||t;return e("h1",{attrs:{id:"pythonapiæµ‹è¯•è‡ªåŠ¨åŒ–æ¡†æ¶ä½¿ç”¨assertpyæ·»åŠ æµç•…æ–­è¨€"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#pythonapiæµ‹è¯•è‡ªåŠ¨åŒ–æ¡†æ¶ä½¿ç”¨assertpyæ·»åŠ æµç•…æ–­è¨€","aria-hidden":"true"}},[this._v("#")]),this._v(" PythonAPIæµ‹è¯•è‡ªåŠ¨åŒ–æ¡†æ¶ä½¿ç”¨assertpyæ·»åŠ æµç•…æ–­è¨€")])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v('[\n    {\n        "fname": "Kent",\n        "lname": "Brockman",\n        "person_id": 2,\n        "timestamp": "2020-12-01T16:50:36.843495"\n    },\n    {\n        "fname": "Bunny",\n        "lname": "Easter",\n        "person_id": 3,\n        "timestamp": "2020-12-01T16:50:36.843706"\n\t}\n\t...\n]\n')])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h1",{attrs:{id:"we-use-requests-get-with-url-to-make-a-get-request"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#we-use-requests-get-with-url-to-make-a-get-request","aria-hidden":"true"}},[this._v("#")]),this._v(" We use requests.get() with url to make a get request")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h1",{attrs:{id:"response-from-requests-has-many-useful-properties"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#response-from-requests-has-many-useful-properties","aria-hidden":"true"}},[this._v("#")]),this._v(" response from requests has many useful properties")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h1",{attrs:{id:"we-can-assert-on-the-response-status-code"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#we-can-assert-on-the-response-status-code","aria-hidden":"true"}},[this._v("#")]),this._v(" we can assert on the response status code")])},function(){var t=this.$createElement,e=this._self._c||t;return e("pre",[e("code",[this._v("   # Use assertpy's fluent assertions to extract all fnames and then see the result is non empty and has\n   # Kent in it.\n   assert_that(response_content).extracting('fname').is_not_empty().does_not_contain('Kent') # fails\n")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{attrs:{id:"author"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#author","aria-hidden":"true"}},[this._v("#")]),this._v(" author")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{attrs:{id:"company"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#company","aria-hidden":"true"}},[this._v("#")]),this._v(" company")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{attrs:{id:"roles"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#roles","aria-hidden":"true"}},[this._v("#")]),this._v(" roles")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{attrs:{id:"è”ç³»æ–¹å¼"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#è”ç³»æ–¹å¼","aria-hidden":"true"}},[this._v("#")]),this._v(" è”ç³»æ–¹å¼")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h4",{attrs:{id:"wechat"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#wechat","aria-hidden":"true"}},[this._v("#")]),this._v(" wechat:")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h4",{attrs:{id:"email"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#email","aria-hidden":"true"}},[this._v("#")]),this._v(" email:")])}],!1,null,null,null);e.default=a.exports}}]);